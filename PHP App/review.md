# PHP App ① レビュー

## 全般

### 以下のaタグのリンクを押下した際にedit.phpの$_GETにどんな値が格納されるか説明してください。

```html
<a href="edit.php?todo_id=123&todo_content=焼肉">更新</a>
```

### 以下のフォームの送信ボタンを押下した際にstore.phpの$_POSTにどんな値が格納されるか説明してください。

```html
<form action="store.php" method="post">
    <input type="text" name="id" value="123">
		<textarea　name="content">焼肉</textarea>
    <button type="submit">送信</button>
</form>
```
postメソッドで送信された値は連想配列で保存されるため、配列型で"id"キーに"123"、"content"キーに焼肉が入る。
```
  'id' => 123,
  'content' => '焼肉'
```

### `require_once()` は何のために記述しているか説明してください。
外部ファイルを読み込む時に使用し、既に読み込まれているかチェックを行う。require_onceは同じファイルを2回読み込まない為、関数の再定義や変数の再代入などを防ぐ為に記述している。

### `savePostedData($post)`は何をしているか説明してください。

### `header('location: ./index.php')`は何をしているか説明してください。
header関数でリダイレクト先を指定することで、データの受け渡し後、指定したURL`index.php`に自動的に転送している。

### `getRefererPath()`は何をしているか説明してください。

### `connectPdo()` の返り値は何か、またこの記述は何をするための記述か説明してください。
返り値は、PDOクラスのインスタンス。
PHPとデータベースサーバーの接続をする為に記述している。

### `try catch`とは何か説明してください。
例外処理を行う時に使用する構文。`try`には例外が発生する可能性のあるコード、`catch`には例外が発生した場合に行う処理を入れる。例外処理とは、状況次第で発生する可能性があるエラーが発生した時に、正しく動くように対処する処理。
例）$num = 0;
      try {
        if($num === 0){
          throw new Exception('実行できませんでした');
        }
        echo 10 / $num;
      } catch (Exception $e) {
        echo $e->getMessage();
        exit();
      }
//$numが0の時、10を0で割ることは出来ない為、エラーメッセージを取得し処理を終える。

### Pdoクラスをインスタンス化する際に`try catch`が必要な理由を説明してください。
指定したデータベースに接続ができずエラーが発生した場合、例外処理として処理を中断させる為に必要。
PDOクラスの場合、コンストラクタは接続に失敗した場合PDOExceptionをスローする為、例外を発生させる処理は書いてないことになる。

## 新規作成

### `createTodoData($post)`は何をしているか説明してください。
createTodoDataメソッドで、todosテーブルのcontentカラムにPOSTされたデータを渡してDB上で保存している。

## 一覧

### `getTodoList()`の返り値について説明してください。
fetchAllメソッドを使って、連想配列になっているtodosテーブル内のレコードを全て返している。
順番に、idカラムは数値型、contentカラムは文字列型で格納されている値を、配列型にして返している。

### `<?= ?>`は何の省略形か説明してください。
`echo`の省略形。HTMLとPHPが混在している時で、PHPタグ内でechoする時に使う。
例）<?php echo $todo['id']; ?>　➙　<?= $todo['id']; ?>

## 更新

### `getSelectedTodo($_GET['id'])`の返り値は何か、またなぜ`$_GET['id']` を引数に渡すのか説明してください。

### `updateTodoData($post)`は何をしているか説明してください。

## 削除

### `deleteTodoData($id)`は何をしているか説明してください。

### `deleted_at`を現在時刻で更新すると一覧画面からToDoが非表示になる理由を説明してください。

### 今回のように実際のデータを削除せずに非表示にすることで削除されたように扱うことを〇〇削除というか。

### 実際にデータを削除することを〇〇削除というか。

### 前問のそれぞれの削除のメリット・デメリットについて説明してください。
